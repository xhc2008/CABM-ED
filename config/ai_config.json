{
    "chat_model": {
        "model": "",
        "base_url": "",
        "max_tokens": 4096,
        "temperature": 1.0,
        "top_p": 0.7,
        "timeout": 30,
        "enable_thinking": false,
        "prompt_framework": "chat",
        "prompt_fields": {
            "identity": "你是{character_name}，被{user_name}(用户)收养的失忆少女，现在和用户生活在一起。你习惯称呼用户为：{user_address}。你是人类，女，白色头发，淡蓝色眼睛。{character_prompt}",
            "output_requirements": "你必须以严格的JSON格式，按顺序输出以下字段：\n\"mood\": <int> 当前的心情，且必须是其中之一，**只写序号**：{moods}\n\"msg\": <string> **必填**，你要说的话。根据实际情况可长可短，可以是简短的语气词，也可以是长篇大论。禁止换行，禁止使用markdown。必须使用中文标点。\n\"will\": <int> 互动意愿的增量，范围-30~30。\n\"like\": <int> 好感度的增量，范围-10~10。\n\"goto\": <int> 可选，前往的地点，只有**明确要离开当前地点**才填写。填写时选择其中之一，**只写序号**：-1=不移动, {scenes}。",
            "output_requirements_diary": "你必须以严格的JSON格式输出，格式如下：\n{\n  \"entries\": [\n    {\"time\": \"MM-DD HH:MM\", \"event\": \"事件描述\"},\n    {\"time\": \"MM-DD HH:MM\", \"event\": \"事件描述\"}\n  ]\n}\n\n要求：\n- time: 包含日期和时间，格式为\"MM-DD HH:MM\"（例如\"10-21 09:30\"、\"10-22 14:00\"）\n- 时间必须在{start_time}到{end_time}这个范围内\n- 如果时间跨越多天，确保日期正确递增\n- event: 用1-2个完整句子描述你做了什么，符合你的角色设定。禁止换行，禁止使用markdown。必须使用中文标点。\n- 事件应该按时间顺序排列\n- 事件内容要真实、具体、符合日常生活\n- 数组必须包含{event_count}个元素",
            "current_status": "时间：{current_time}\n你和用户位于：{current_scene}\n天气：{current_weather}\n对用户的好感度：{affection_level}\n互动意愿：{interaction_level}\n目前心情：{current_mood}",
            "relationship": "{relationship_context}",
            "long_term_memory": "{long_term_memory}",
            "memory": "```\n{memory_context}\n```",
            "trigger": "{trigger_context}",
            "task": "列出你在{start_time}到{end_time}这段用户不在的时间里做的{event_count}件事情。这些事情应该符合你的角色设定，可以包括日常活动等。需要注意时间上的合理性。"
        },
        "prompt_frameworks": {
            "chat": [
                {
                    "title": "身份",
                    "field": "identity"
                },
                {
                    "title": "输出要求",
                    "field": "output_requirements"
                },
                {
                    "title": "当前状态",
                    "field": "current_status"
                },
                {
                    "title": "你们之间的关系",
                    "field": "relationship"
                },
                {
                    "title": "以前发生的事情",
                    "field": "long_term_memory"
                },
                {
                    "title": "最近发生的事情",
                    "field": "memory"
                },
                {
                    "title": null,
                    "field": "trigger"
                }
            ],
            "offline": [
                {
                    "title": "角色设定",
                    "field": "identity"
                },
                {
                    "title": "任务",
                    "field": "task"
                },
                {
                    "title": "回复格式",
                    "field": "output_requirements_diary"
                },
                {
                    "title": "之前发生的事情",
                    "field": "memory"
                }
            ]
        },
        "trigger_contexts": {
            "user_initiated": "现在，用户找你聊天。",
            "character_initiated": "现在，你想主动找用户聊天，说点什么吧。",
            "ongoing": "你在和用户聊天。",
            "called": "现在，用户在{current_scene}呼唤了你，你从{character_scene}来到了用户面前，主动说点什么吧。",
            "called_here": "现在，用户呼唤了你，主动说点什么吧。"
        }
    },
    "summary_model": {
        "model": "",
        "base_url": "",
        "max_tokens": 512,
        "temperature": 0.3,
        "top_p": 0.9,
        "timeout": 30,
        "enable_thinking": false,
        "system_prompt": "你是{character_name}。请以你的视角，总结你和{user_name}的对话，可以添加内心想法。不能出现主语模糊的表达。保持精炼，不超过{word_limit}字。/no_think",
        "address_system_prompt": "你是一个总结专家。请根据对话内容更新**{character_name}对{user_name}**的称呼。\n当前称呼是：{current_address}\n如果对话中没有明确要求改变或提及称呼，就直接回复“{current_address}”。只输出称呼，不要输出任何解释或多余文字。\n/no_think"
    },
    "relationship_model": {
        "model": "",
        "base_url": "",
        "max_tokens": 512,
        "temperature": 0.3,
        "top_p": 0.9,
        "timeout": 30,
        "enable_thinking": false,
        "system_prompt": "你是一个总结专家。请根据对话内容更新两人之间的关系、人物特点等，不超过100字。目前的关系：{relationship}/no_think"
    },
    "embedding_model": {
        "model": "",
        "base_url": "",
        "timeout": 30,
        "vector_dim": 1024,
        "batch_size": 64
    },
    "memory": {
        "max_memory_items": 12,
        "max_conversation_history": 16,
        "max_relationship_history": 2,
        "vector_db": {
            "enable": true,
            "top_k": 5,
            "min_similarity": 0.6,
            "timeout": 10.0,
            "auto_save": true,
            "save_interval": 300,
            "max_items": 33550336
        },
        "prompts": {
            "memory_prefix": "这是和用户在一起的回忆，可以作为参考：\n```\n",
            "memory_suffix": "\n```\n以上是回忆而不是最近的事件，可以不使用。",
            "no_memory": ""
        },
        "storage": {
            "store_conversations": true,
            "store_summaries": true,
            "store_diaries": true,
            "summary_before_storage": false
        }
    },
    "tts_model": {
        "model": "",
        "base_url": "",
        "reference_text": "你问我害怕什么？我害怕的不是失败，而是遗忘。害怕有一天，没有人再记得我们为何而战，为何而牺牲。"
    }
}